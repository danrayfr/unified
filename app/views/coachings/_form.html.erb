<div class="flex items-center justify-center p-12">
<div class="mx-auto w-full max-w-[1000px]">
<%= form_with(model: [account, coaching]) do |form|  %>
  <%= render 'shared/error_messages', object: form.object %>

  <%= form.hidden_field :account_id, value: @account.id %>

  <div class="mb-6">
    <%= form.label :coaching_start_date, class:"mb-3 block text-base font-medium text-[#07074D]" %>
    <%= form.date_field :coaching_start_date, class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md", disabled: current_user.agent? %>
  </div>

  <div class="mb-6">
    <%= form.label :coaching_end_date, class:"mb-3 block text-base font-medium text-[#07074D]" %>
    <%= form.date_field :coaching_end_date, class:"w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md", disabled: current_user.agent? %>
  </div>

  <!--div class="mb-5">
    <%#= form.label :assignee, class:"mb-3 block text-base font-medium text-[#07074D]"  %>
    <%#= form.collection_select :assignee,
                           @account.users.where(role: 'agent'),
                           :name,
                           :name,
                           { prompt: 'Select Assignee' },
                           { class: "w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" } %>
  </div-->

  <div class="mb-6">
    <%= form.label :agent, class:"mb-3 block text-base font-medium text-[#07074D]"  %>
    <%= form.collection_select :user_id,
                           @account.users.where(role: 'agent'),
                           :id,
                           :email,
                           { prompt: 'Select Agent' },
                           { class: "w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md", disabled: current_user.agent?} %>

  </div>

  <%= form.fields_for(:note, @note) do |note_form| %>
    <% if current_user.agent? %>
      <div class="mb-6">
        <%= note_form.label :note, class:"mb-3 block text-base font-medium text-[#07074D]" %>
        <div class="trix-editor" data-trix-target="content" contenteditable="false">
          <%= @note.content %>
        </div>
        <%= note_form.hidden_field :content, value: @note.content %>
      </div>
    <% else %>
      <div class="mb-6">
        <%= note_form.label :note %>
        <%= note_form.rich_text_area :content %>
      </div>
    <% end %>
  <% end %>

  <% if coaching.persisted? %>
    <div class="mb-6">
      <% if current_user.agent? %>
        <%= form.label :acknowledgement, class: "mb-3 block text-base font-medium text-[#07074D]" %>
        <%= form.check_box :acknowledgement, checked_value: true, unchecked_value: false, disabled: coaching.acknowledgement %>
      <% end %>
    </div>

  <% end %>

  <div>
    <%= form.submit class:"hover:shadow-form rounded-md bg-[#6A64F1] py-3 px-8 text-base font-semibold text-white outline-none" %>
  </div>
<% end %>
</div>
</div>
